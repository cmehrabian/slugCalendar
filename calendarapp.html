<head>
  <title>SlugCal</title>
</head>

<body>
	{{#if currentUser}}
 		{{> main}}
	{{else}}
	<div class="container"> <!-- Center and Make look pretty -->
		{{>loginButtons}}
	</div>
	{{/if}}
</body>

<template name="main">
	
	<div class="container">
		<!-- <h1 align="center">Calendar</h1> -->
    <div style="width: 72px;margin: auto;">
    <img src="logo.svg" />
    </div>

    {{>runner}}
		{{>loginButtons}}
    <!-- {{>search}}
    {{>searchResult}} -->
    <input type="checkbox" name="college6" value="Porter"> Porter
    <input type="checkbox" name="kresge" value="Kresge"> Kresge
    <input type="checkbox" name="oakes" value="Oakes"> Oakes
    <input type="checkbox" name="crown" value="Oakes"> Crown

    <!-- <div class="form">
        <input type="text" name="q" id="q" autocomplete="off" spellcheck="false" autocorrect="false" class="form-control string" placeholder="Search..." />
    </div> -->
	<div id="calendarFull">
	</div>
  <div id="calendar"></div>
	</div>
  {{#if editing_event}}
    {{>dialog}}
  {{/if}}
</template>

<template name="dialog">
  <div class="modal fade in show" id="" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close closeDialog" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="">{{title}}</h4>
        </div>
        <div class="modal-body">
          <div class="span 3">
          <label for="description" style="display:inline-block">Description</label>
            <p id="description" style="display:inline-block;">{{description}}</p>
            <button type="button" class="btn btn-info" data-dismiss="modal" style="display:inline-block; float:right;">RSVP</button>
          <!-- <label>Where</label> -->
          <p id="where" style="display:inline-block;"><b>Where:</b> {{where}}</p>
          </div>
        </div>  
        <div class="modal-footer">
          {{>chat}}
        </div>
        <input type="text" class="form-control" placeholder="" value="" style="text-align: center" readonly>
        <input type="text" class="form-control" placeholder="" value="{{start}} - {{end}}" style="text-align: center">

      </div>
    </div>
  </div>
</template>

<template name="search">
    <div class="form">
          <input type="text" id="search-box" placeholder="Search..." />
          
    </div>
</template>
<template name="searchResult">
  <div id="search-result">
      <div id = "search-meta">
        {{#if isLoading}}
          searching ...
        {{/if}}
      </div>
        {{#each getEvents}}
          <div class="eventTitle">
            <h4 class="Title">
              <a href="{{title}}" target="_blank">{{{eventTitle}}}</a>
            </h4>
            <div class="description">
              {{{description}}}
            </div>
          </div>
        {{/each}}
  </div>
</template>

<template name="chat">
  {{#if currentUser}}
    <div id="chat-log">
        {{#each chatLog}}
          <div>
            <span class="chat-username-column">{{userName}}</span>
            <span class="chat-body-column">{{body}}</span>
          </div>
        {{/each}}
    </div>
    <div>
      <div id="chat-wrapper">
      <input id="chat-box" type="text" style="text-align:center;" placeholder="Chat..." />
      </div>
      <button id="chat-send-button"> Send </button>
    </div>
  {{else}}
    Log in!
  {{/if}}
</template>

<template name="runner">
  <div class="slug-banner">
      <div id="slugRunner"><img src="slugcal-log.png" width="82px"></div>
  </div>
    <script>
      function moveit() {
          $('#slugRunner').animate({
            'marginLeft':"+=30",
            }, 25000  , function () {
              moveit();
          });
      }
      $(document).ready(function(){
        moveit();
      });
      // 1. selects '<input type="radio" />' elements with the 'name' attribute of 'postage'
      // 2. assigns the onChange/onchange event handler
      $('input[name="college6"]').on('click', function(){
          if ( $(this).is(':checked') ) {
            console.log("yes");
            $('.kresgeDisplay').css('display', 'none');
            $('.noDec').css('display', 'none');
            $('.oakesDisplay').css('display', 'none');
            $('.crownDisplay').css('display', 'none');
          } 
          else {
            $('.kresgeDisplay').css('display', 'block');
            $('.noDec').css('display', 'block');
            $('.oakesDisplay').css('display', 'block');
            $('.crownDisplay').css('display', 'block');
          }
      });

      $('input[name="kresge"]').on('click', function(){
          if ( $(this).is(':checked') ) {
            console.log("yes");
            $('.porterDisplay').css('display', 'none');
            $('.noDec').css('display', 'none');
            $('.oakesDisplay').css('display', 'none');
            $('.crownDisplay').css('display', 'none');
          } 
          else {
            $('.porterDisplay').css('display', 'block');
            $('.noDec').css('display', 'block');
            $('.oakesDisplay').css('display', 'block');
            $('.crownDisplay').css('display', 'block');
          }
      });

      $('input[name="oakes"]').on('click', function(){
          if ( $(this).is(':checked') ) {
            console.log("yes");
            $('.porterDisplay').css('display', 'none');
            $('.noDec').css('display', 'none');
            $('.kresgeDisplay').css('display', 'none');
            $('.crownDisplay').css('display', 'none');
          } 
          else {
            $('.porterDisplay').css('display', 'block');
            $('.noDec').css('display', 'block');
            $('.kresgeDisplay').css('display', 'block');
            $('.crownDisplay').css('display', 'block');
          }
      });

      $('input[name="crown"]').on('click', function(){
          if ( $(this).is(':checked') ) {
            console.log("yes");
            $('.porterDisplay').css('display', 'none');
            $('.noDec').css('display', 'none');
            $('.kresgeDisplay').css('display', 'none');
            $('.oakesDisplay').css('display', 'none');
          } 
          else {
            $('.porterDisplay').css('display', 'block');
            $('.noDec').css('display', 'block');
            $('.kresgeDisplay').css('display', 'block');
            $('.oakesDisplay').css('display', 'block');
          }
      });



   </script>

</template>


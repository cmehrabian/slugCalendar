<head>
  <title>SlugCal</title>
</head>

<body>
	{{#if currentUser}}
 		{{> main}}
	{{else}}
	<div class="container"> <!-- Center and Make look pretty -->
		{{>loginButtons}}
	</div>
	{{/if}}
</body>

<template name="main">
	
	<div class="container">
		<h1 align="center">Calendar</h1>	
    {{>runner}}
		{{>loginButtons}}
    {{>search}}
    {{>searchResult}}
    <!-- <div class="form">
        <input type="text" name="q" id="q" autocomplete="off" spellcheck="false" autocorrect="false" class="form-control string" placeholder="Search..." />
    </div> -->
	<div id="calendarFull">
	</div>
  <div id="calendar"></div>
	</div>
  {{#if editing_event}}
    {{>dialog}}
  {{/if}}
</template>

<template name="dialog">
  <div class="modal fade in show" id="" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close closeDialog" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="">{{title}}</h4>
        </div>
        <div class="modal-body">
          <div class="span 3">
          <label for="description" style="display:inline-block">Description</label>
            <p id="description" style="display:inline-block;">{{description}}</p>
            <button type="button" class="btn btn-info" data-dismiss="modal" style="display:inline-block; float:right;">RSVP</button>
          <!-- <label>Where</label> -->
          <p id="where" style="display:inline-block;"><b>Where:</b> {{where}}</p>
          </div>
        </div>
        <div class="modal-footer">
          {{>chat}}
        </div>
        <input type="text" class="form-control" placeholder="" value="{{start}}" text-align="center" readonly >
        <input type="text" class="form-control" placeholder="" value="{{end}}" readonly>

      </div>
    </div>
  </div>
</template>

<template name="search">
    <div class="form">
          <input type="text" id="search-box" placeholder="Search..." />
          
    </div>
</template>
<template name="searchResult">
  <div id="search-result">
      <div id = "search-meta">
        {{#if isLoading}}
          searching ...
        {{/if}}
      </div>
        {{#each getEvents}}
          <div class="eventTitle">
            <h4 class="Title">
              <a href="{{title}}" target="_blank">{{{eventTitle}}}</a>
            </h4>
            <div class="description">
              {{{description}}}
            </div>
          </div>
        {{/each}}
  </div>
</template>

<template name="chat">
  {{#if currentUser}}
    <div id="chat-log">
        {{#each chatLog}}
          <div>
            <span class="chat-username-column">{{userName}}</span>
            <span class="chat-body-column">{{body}}</span>
          </div>
        {{/each}}
    </div>
    <div>
      <input id="chat-box" type="text" placeholder="Hypothetically..." />
      <button id="chat-send-button"> Send </button>
    </div>
  {{else}}
    Log in!
  {{/if}}
</template>

<template name="runner">
  <div class="slug-banner">
      <div id="slugRunner"><img src="slugcal-log.png" width="82px"></div>
  </div>
    <script>
      function moveit() {
          $('#slugRunner').animate({
            'marginLeft':"+=30",
            }, 25000  , function () {
              moveit();
          });
      }
      $(document).ready(function(){
        moveit();
      });
   </script>

</template>

